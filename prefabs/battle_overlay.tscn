[gd_scene load_steps=11 format=3 uid="uid://c5au12ja27aq6"]

[ext_resource type="Script" path="res://prefabs/battle_overlay_main.gd" id="1_gvbtk"]
[ext_resource type="PackedScene" uid="uid://wc8076dp0nrg" path="res://prefabs/draggable_spot.tscn" id="1_m25ou"]
[ext_resource type="Script" path="res://prefabs/attack_in_spot_dectector.gd" id="2_co3gh"]
[ext_resource type="Resource" uid="uid://ctrdselwi2kf1" path="res://Resources/Attacks/Player/punch.tres" id="4_mue14"]
[ext_resource type="Script" path="res://prefabs/health_displays_script.gd" id="5_f07nv"]
[ext_resource type="Resource" uid="uid://dmqgyh8xxlmhk" path="res://Resources/Attacks/Player/low_block.tres" id="5_um5jo"]
[ext_resource type="Resource" uid="uid://bbilq7ugxdnsx" path="res://Resources/Attacks/Player/high_block.tres" id="6_dbajq"]
[ext_resource type="Theme" uid="uid://7jevmqcl012f" path="res://Resources/attack_button_theme.tres" id="7_u3x54"]
[ext_resource type="StyleBox" uid="uid://344uqy4ps5vx" path="res://Resources/health_bar_bg.tres" id="8_s1ss8"]
[ext_resource type="StyleBox" uid="uid://cjphvxqj8pv5c" path="res://Resources/health_bar_fill.tres" id="9_numx6"]

[node name="battle_overlay" type="CanvasLayer"]
script = ExtResource("1_gvbtk")

[node name="attack_spots" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="attack_spot0" parent="attack_spots" instance=ExtResource("1_m25ou")]
offset_left = 138.0
offset_top = 157.0
offset_right = 138.0
offset_bottom = 157.0

[node name="attack in spot detector" type="Node2D" parent="attack_spots/attack_spot0"]
script = ExtResource("2_co3gh")

[node name="attack_spot1" parent="attack_spots" instance=ExtResource("1_m25ou")]
offset_left = 240.0
offset_top = 132.0
offset_right = 240.0
offset_bottom = 132.0

[node name="attack in spot detetor" type="Node2D" parent="attack_spots/attack_spot1"]
script = ExtResource("2_co3gh")
attack_slot_order = 1

[node name="attack_givers" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = 40.0
offset_top = 540.0
offset_right = 40.0
offset_bottom = 540.0

[node name="ui_bg" type="ColorRect" parent="attack_givers"]
z_index = -1
layout_mode = 0
offset_left = -40.0
offset_top = -30.0
offset_right = 1110.0
offset_bottom = 105.0

[node name="give_punch" parent="attack_givers" instance=ExtResource("1_m25ou")]
offset_left = 0.0
offset_top = 0.0
offset_right = 0.0
offset_bottom = 0.0
attack_resource_to_give = ExtResource("4_mue14")

[node name="give_low_block" parent="attack_givers" instance=ExtResource("1_m25ou")]
offset_left = 125.0
offset_top = 0.0
offset_right = 125.0
offset_bottom = 0.0
attack_resource_to_give = ExtResource("5_um5jo")

[node name="give_high_block" parent="attack_givers" instance=ExtResource("1_m25ou")]
offset_left = 250.0
offset_top = 0.0
offset_right = 250.0
offset_bottom = 0.0
attack_resource_to_give = ExtResource("6_dbajq")

[node name="attack button" type="Button" parent="."]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -46.0
offset_top = -113.0
offset_right = 44.0
offset_bottom = -23.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 0
theme = ExtResource("7_u3x54")

[node name="RichTextLabel" type="RichTextLabel" parent="attack button"]
layout_mode = 0
offset_right = 90.0
offset_bottom = 90.0
mouse_filter = 2
theme_override_font_sizes/normal_font_size = 40
bbcode_enabled = true
text = "[center]
"

[node name="clear chosen attacks" type="Button" parent="."]
offset_left = 1.0
offset_top = 449.0
offset_right = 363.0
offset_bottom = 509.0
theme_override_font_sizes/font_size = 36
text = "clear chosen attacks"

[node name="health displays" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("5_f07nv")

[node name="Player healthbar" type="ProgressBar" parent="health displays"]
layout_mode = 0
offset_left = 75.0
offset_top = 60.0
offset_right = 275.0
offset_bottom = 90.0
theme_override_styles/background = ExtResource("8_s1ss8")
theme_override_styles/fill = ExtResource("9_numx6")
value = 100.0
show_percentage = false

[node name="number" type="RichTextLabel" parent="health displays/Player healthbar"]
layout_mode = 0
offset_right = 200.0
offset_bottom = 30.0
theme_override_font_sizes/normal_font_size = 20
bbcode_enabled = true
text = "[center]7/7"

[node name="Enemy healthbar" type="ProgressBar" parent="health displays"]
layout_mode = 0
offset_left = 846.0
offset_top = 66.0
offset_right = 1046.0
offset_bottom = 96.0
theme_override_styles/background = ExtResource("8_s1ss8")
theme_override_styles/fill = ExtResource("9_numx6")
value = 100.0
show_percentage = false

[node name="number" type="RichTextLabel" parent="health displays/Enemy healthbar"]
layout_mode = 0
offset_right = 200.0
offset_bottom = 30.0
theme_override_font_sizes/normal_font_size = 20
bbcode_enabled = true
text = "[center]7/7"

[connection signal="pressed" from="attack button" to="." method="_on_attack_button_pressed"]
[connection signal="pressed" from="clear chosen attacks" to="." method="_on_clear_chosen_attacks_pressed"]
